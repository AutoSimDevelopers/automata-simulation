<div class="top-nav">
    <!-- look about for the right alignment -->
    <div class=" automataName col-lg-1">
        <span class="currentAutomatonName" ng-click="inNameEdit = true" ng-show="!inNameEdit">
            {{config.name}}
        </span>
        <input id="automatonNameEdit" type="text" name="newName" size="8" show-focus="inNameEdit" ng-model="config.name" ng-blur="inNameEdit = false" placeholder="{{getConfigName()}}" ng-show="inNameEdit">
    </div>

    <!-- look about for the right alignment -->
    </div>
    <div class="th-koeln-logo"><img src="images/th-koeln-logo.png"></div>
</div>


<div class="top-menu">

    <div class="button-group">
        <!-- Simple dropdown -->
        <span uib-dropdown on-toggle="toggled(open)">

        <a href id="simple-dropdown" uib-dropdown-toggle>
                   {{config.diagramm.scale*100 | number:0}}%   <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
        </a>

        <ul uib-dropdown-menu aria-labelledby="simple-dropdown">
            <li> <a ng-click="graphdesigner.zoomTo(25)">25%</a></li>
            <li> <a ng-click="graphdesigner.zoomTo(50)">50%</a></li>
            <li> <a ng-click="graphdesigner.zoomTo(75)">75%</a></li>
            <li> <a ng-click="graphdesigner.zoomTo(100)">100%</a></li>
            <li> <a ng-click="graphdesigner.zoomTo(125)">125%</a></li>
            <li> <a ng-click="graphdesigner.zoomTo(150)">150%</a></li>
            <li> <a ng-click="graphdesigner.zoomTo(200)">200%</a></li>
            <li> <a ng-click="graphdesigner.zoomTo(250)">250%</a></li>
            </li>

        </ul>
        </span>
        <menubutton icon="search-plus" action="graphdesigner.zoomIn()" tttext="NAVBAR.TTTEXT_ZOOM_IN"></menubutton>
        <menubutton icon="search-minus" action="graphdesigner.zoomOut()" tttext="NAVBAR.TTTEXT_ZOOM_OUT"></menubutton>
        <menubutton icon="expand" action="graphdesigner.scaleAndTranslateToDefault()" tttext="NAVBAR.TTTEXT_RESCALE"></menubutton>
    </div>
    <div class="button-group">
        <menubutton icon="trash" action="graphdesigner.remove()" ng-disable="graphdesigner.showStateMenu"></menubutton>
    </div>

    <div class="button-group" ng-controller="portationCtrl">
        <menubutton icon="upload" action="import()" tttext="NAVBAR.TTTEXT_IMPORT"></menubutton>
        <menubutton icon="download" action="export()" tttext="NAVBAR.TTTEXT_EXPORT"></menubutton>
        <menubutton icon="picture-o" action="saveAsPng()"  tttext="NAVBAR_TTTEXST_SAVEASPNG"></menubutton>
   </div>
    <div class="button-group">

    </div>
    <div class="button-group">
        <menubutton icon="addstate" action="graphdesigner.addState()" ng-disabled="simulator.isInPlay" tttext="NAVBAR.TTTEXT_ADDSTATE"></menubutton>
        <menubutton icon="addtransition" action="graphdesigner.addTransition()" ng-disabled="simulator.isInPlay" tttext="NAVBAR.TTTEXT_ADDTRANS"></menubutton>
        <menubutton icon="trash" action="removeConfig()" tttext="NAVBAR.TTTEXT_REMALL"></menubutton>
    </div>
    <div class="button-group">
        <span uib-dropdown on-toggle="toggled(open)" ng-controller="LangCtrl">
        <!-- Here is the current language shown -->
        <a href id="simple-dropdown" uib-dropdown-toggle><span ng-bind-html="activeLanguage | to_trusted"></span><span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
        </a>
        <!-- here you can see all selectable languages in a simple dropdown -->
        <ul uib-dropdown-menu aria-labelledby="simple-dropdown">
            <li> <a ng-click="changeLang('en_EN')"><span class="flag-icon flag-icon-gb"></span> {{"LANG_DROP.ENGLISH" | translate}}</a></li>
            <li> <a ng-click="changeLang('de_DE')"><span class="flag-icon flag-icon-de"></span> {{"LANG_DROP.GERMAN" | translate}}</a></li>
        </ul>
        </span>
    </div>
</div>


<div class="left-menu">
    <menuitemextendable titlename="SIM.TITLE">
        <menubutton icon="play" action="simulator.playOrPause()" tttext="SIM.PLAYPAUSE"></menubutton>
        <menubutton icon="stop" action="simulator.stop()" tttext="SIM.STOP"></menubutton>
        <menubutton icon="fast-backward" action="simulator.stepBackward()" tttext="SIM.STEPBACKWARD"></menubutton>
        <menubutton icon="fast-forward" action="simulator.stepForward()" tttext="SIM.STEPFORWARD"></menubutton>
        <p>{{"SIM.INPUT" | translate}}
            <input class="inputWord" ng-model="config.inputWord" ng-change="simulator.updateFunction()" /><span class="icon-icon-check" aria-hidden="true" ng-show="simulator.isInputAccepted"></span><span class="glyphicon glyphicon glyphicon-remove" aria-hidden="true" ng-show="!simulator.isInputAccepted"></span>
        </p>

    </menuitemextendable>
    <menuitemextendable titlename="SIM_SET.TITLE">

        <p> {{"SIM_SET.LOOP" | translate}}
            <input id="simulator-settings-input-loop" type="checkbox" ng-model="simulator.loopSimulation">
        </p>
        <p> {{"SIM_SET.STO" | translate}}
            <span>{{simulator.stepTimeOut}}</span>
            <div class="slider">
                <a name="stepTimeOutSlider"></a>
                <div ui-slider min="0" max="3000" ng-model="simulator.stepTimeOut"></div>
            </div>
        </p>
        <p>{{"SIM_SET.LTO" | translate}}
            <span>{{simulator.loopTimeOut}}</span>
            <div class="slider">
                <a name="loopTimeOutSlider"></a>
                <div ui-slider min="0" max="4000" ng-model="simulator.loopTimeOut"></div>
            </div>
        </p>
    </menuitemextendable>
    <menuitemextendable titlename="DEV.TITLE">
        <menubutton icon="wrench" action="testData.testDFA()">

        </menubutton>


        <p>DiagrammValues:
            <json-formatter json="config" open="1"></json-formatter>
        </p>
        <p>DrawnTransitions:
            <json-formatter json="drawnTransitions" open="1"></json-formatter>
        </p>
        <p>Graphdesigner Input:
            <json-formatter json="graphdesigner.input" open="1"></json-formatter>
        </p>
    </menuitemextendable>
</div>

<div class="mid-wrapper">
    <div class="diagramm">
        <p class="title">Zustands√ºbergangsdiagramm</p>
        <svg id="diagramm-svg">
        </svg>
    </div>
    <div class="bot-content-wrapper">
        <div class="bot-content bot-left">
            <h3 class="title">{{"TABLE.TITLE" | translate}}</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th>/</th>
                        <th ng-repeat="char in table.alphabet" ng-bind-html="char | to_trusted"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="(key, value) in table.states" ng-class="value.class">
                        <th ng-bind-html="value.name | to_trusted"></th>
                        <td ng-repeat="name in value.trans track by $index" ng-bind-html="name.State | to_trusted"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="bot-content bot-right">
            <p uib-tooltip="{{'STF.TTSIGMA' | translate}}" tooltip-placement="left">&Sigma; = { <span ng-repeat="x in statetransitionfunction.functionData.transitions">{{x}}{{$last ? ' ' : ', '}}</span>}</p>
            <p uib-tooltip="{{'STF.TTSTATES' | translate}}" tooltip-placement="left">S = { <span ng-repeat="x in statetransitionfunction.functionData.states track by $index" ng-bind-html="x | to_trusted"></span> }</p>
            <p uib-tooltip="{{'STF.TTSTF' | translate}}" tooltip-placement="left">&delta; = { <span ng-repeat="x in statetransitionfunction.functionData.statetransitionfunction track by $index" ng-bind-html="x | to_trusted"> </span> }</p>
            <p uib-tooltip="{{'STF.TTSTART' | translate}}" tooltip-placement="left">S<sub>0</sub>= {{statetransitionfunction.functionData.startState}} </p>
            <p uib-tooltip="{{'STF.TTFINAL' | translate}}" tooltip-placement="left">{{"STF.F" | translate}} = { {{statetransitionfunction.functionData.finalStates}} }</p>
        </div>
    </div>
</div>
<div class="right-menu">
    <!--Diagramm Settigns -->
    <menuitem titlename="DIA_SET.TITLE" ng-show="!graphdesigner.showStateMenu && !graphdesigner.showTransitionMenu">
        <p>
            <input type="checkbox" id="graphdesigner-isGrid" ng-model="graphdesigner.isGrid">{{"DIA_SET.GRID" | translate}}
        </p>
        <p>
            <input type="checkbox" id="graphdesigner-isGrid" ng-model="graphdesigner.snapping">{{"DIA_SET.SNAPPING" | translate}}
        </p>
    </menuitem>
    <!--State Menu -->
    <menuitem titlename="STATE_MENU.TITLE" ng-show="graphdesigner.showStateMenu">
        <div>
            <p>{{"STATE_MENU.NAME" | translate}}</br>
                <input id="state-input-name" ng-model="graphdesigner.input.stateName" maxlength="5" uib-tooltip="{{graphdesigner.input.ttt | translate}}" tooltip-is-open="graphdesigner.input.tttisopen" tooltip-placement="left" tooltip-trigger="none">
            </p>
        </div>
        <div>
            <input type="checkbox" id="state-input-startstate" ng-model="graphdesigner.input.startState"> {{ "STATE_MENU.STARTSTATE" | translate}}
        </div>
        <div>
            <input type="checkbox" id="state-input-finalstate" ng-model="graphdesigner.input.finalState">{{ "STATE_MENU.FINALSTATE" | translate}}

        </div>
        <button class="btn btn-danger" ng-click="removeState(graphdesigner.input.state.id)">Delete</button>

    </menuitem>
    <!--Transition Menu -->
    <menuitem titlename="TRANS_MENU.TITLE" ng-show="graphdesigner.showTransitionMenu">
        <p>{{"STATE_MENU.STARTSTATE" | translate}}:{{graphdesigner.input.fromState}}</p>
        <p>{{"TRANS_MENU.NEXTSTATE" | translate}}:{{graphdesigner.input.toState}}</p>
        <ul class="transitions-menu-list">
            <li ng-repeat="(key, value) in graphdesigner.input.transitions">
                <p>{{"TRANS_MENU.NAME" | translate}}:
                    <input type="text" ng-model="value.name" maxlength="1"  uib-tooltip="{{value.ttt | translate}}"  tooltip-is-open="value.tttisopen" tooltip-placement="left" tooltip-trigger="none">
                </p>
                <button class="btn btn-danger" ng-click="removeTransition(value.id)">Delete</button>
            </li>
        </ul>
    </menuitem>
</div>
